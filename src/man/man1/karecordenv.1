.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "KACREATEENV" 1 "" "" ""
.SH NAME
karecordenv \- registers a environment
.SH "SYNOPSIS"
\fBkarecordenv\fR\fB[\-n  | \-\-name \fRregistration_name]
    \fB[\-v  | \-\-version \fRversion]            # default is 1
    \fB[\-d  | \-\-description \fRdescription]
    \fB[\-a  | \-\-author \fRauthor_email]
    \fB[\-fb | \-\-filebase \fRenvironment_image_path]
    \fB[\-ft | \-\-filesite \fRpost\-installation_file_path]
    \fB[\-s  |  \-\-size \fRsizeMo]
    \fB[\-i  |  \-\-initrdpath \fRinitrdpath]        # default is none
    \fB[\-k  |  \-\-kernelpath \fRkernel_path]
    \fB[\-p  |  \-\-param \fRkernel_param]
    \fB[\-fd | \-\-fdisktype \fRfdisk_type]         # default is 82
    \fB[\-fs | \-\-filesystem \fRfile_system]        # default is ext2
    \fB[\-fe | file_environment \fRfile_environment]
    
Name, kernel_path, environment_image_path and post\-installation_file_path must be defined
  
.SH "DESCRIPTION"


    karecordenv registers an environment in order to be able to use it with the deployment system\&.
  
.SH "OPTIONS"
\fB\-n,  \-\-name registration_name\fRthe registration name for the environment
    \fB\-v,  \-\-version version\fRthe version number of the environment (if needed) ; default is 1
    \fB\-d,  \-\-description "description"\fRa brief description of the environment
    \fB\-a,  \-\-author author_email\fRthe author email address
    \fB\-fb, \-\-filebase environment_image_path\fRthe complete path to the environment image
    \fB\-ft, \-\-filesite post\-installation_file_path\fRthe complete path to the post\-installation file
    \fB\-s,  \-\-size size (Mo)\fRthe size of the environment ; in order to perform partition size check before a deployment
    \fB\-i,  \-\-initrdpath\fRthe complete initrd path in the environment (including intrd name)
    \fB\-k,  \-\-kernelpath kernel_path\fRthe complete kernel path in the environment (including kernel name)\&. You have to use "chainload" keyword, when deploying a "dd" image\&.
    \fB\-p,  \-\-param\fRarguments passed to kernel at boot (<verb>root</verb> parameter is set automatically), if left empty, default can be configured
    \fB\-fd, \-\-fdisktype fdisk_type\fRthe fdisk type ; default is 82
    \fB\-fs, \-\-filesystem file_system\fRthe file system type ; default is ext2
    \fB\-fe, \-\-file_environment file_environment\fR record and environment from file\&.
  
.SH "EXAMPLE"

.PP
Registers a debian image whose features are explicitly given in parameter 

.nf

	karecordenv \-n debian \-v 2 \-d "debian maison" \-a katools@imag\&.fr \-fb file://home/nis/jleduc/ImagesDistrib/image_Debian_current\&.tgz \-ft file://home/nis/jleduc/Boulot/postinstall/traitement\&.tgz \-size 650 \-k /boot/vmlinuz \-i /initrd \-p "console=ttyS0,38400n8 ETH_DRV=tg3" \-fd 83 \-fs ext2
      
.fi
 

.PP
Registers a debian from file 

.nf

$cat > /tmp/myenv << EOF
name = debian
id = 7
version = 2
description = none
author = @
filebase = file://usr/local/grid5000/image/rootfs\&.tgz
filesite = file://usr/local/grid5000/image/postinstall\&.tgz
size = 100
initrdpath = /boot/initrd\&.img\-2\&.6\&.8\-1\-686\-smp
kernelpath = /boot/vmlinuz\-2\&.6\&.8\-1\-686\-smp
kernelparam =
fdisktype = 83
filesystem = ext2
siteid = 1
user = jpeyrard
EOF	

$karecordenv \-fe /tmp/myenv
      
.fi
 

.SH "COPYRIGHTS"

.PP
Copyright 2004 Laboratoire Id\-Imag (http://www\-id\&.imag\&.fr)\&. This software is licensed under the GNU Library General Public License\&. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE\&.

