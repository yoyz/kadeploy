.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "KADEPLOY 1"
.TH KADEPLOY 1 "2008-02-21" "perl v5.8.8" "Kadeploy commands"
.SH "NAME"
kadeploy \- deploys an environment on the given nodes.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBkadeploy\fR  \fB\-e|\-\-environment\fR environment_name [\fB\-l\fR username] [\fB\-d|\-\-device\fR device] [\fB\-p|\-\-partition\fR partition] [\fB\-m|\-\-machine\fR hostname] [\fB\-f\fR nodefile] [\fB\-D|\-\-debug\-level\fR debug_level] [\fB\-u|\-\-use\-prod\-env\fR] [\fB\-r|\-\-reformat\-tmp\fR] [\fB\-F|\-\-fast\-kernel\-reboot\fR] [\fB\-s|\-\-script\fR path_to_script]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This command deploys the specified environment on a specific parition of the target nodes. When successfully over, the nodes are available under the new and freshly installed environment.
.PP
Kadeploy can deploy another user's environment.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-e|\-\-environment\fR environment_name" 4
.IX Item "-e|--environment environment_name"
Specifies the name of the environment to deploy.
.IP "\fB\-l\fR username" 4
.IX Item "-l username"
Specifies the environment's owner, by defaut the user issuing kadeploy command.
.IP "\fB\-d|\-\-device\fR device" 4
.IX Item "-d|--device device"
Specifies the device to use for deployment on the target nodes.
.IP "\fB\-p|\-\-partition\fR partition" 4
.IX Item "-p|--partition partition"
Specifies the partition to use for deployment on the target nodes.
.IP "\fB\-m|\-\-machine\fR hostname" 4
.IX Item "-m|--machine hostname"
Specifies a target host. This option can be used more than once to specify several target hosts.
.IP "\fB\-f\fR nodefile" 4
.IX Item "-f nodefile"
Specifies a file containing a set of target nodes.
.IP "\fB\-D|\-\-debug\-level\fR debug_level" 4
.IX Item "-D|--debug-level debug_level"
Specifies the verbosity's level. The values are : 0 (only result), 1 (main steps of the deployement), 2 (normal verbosity), 3 (advanced verbosity), 4 (extreme verbosity). 0 is default.
.IP "\fB\-r|\-\-reformat\-tmp\fR" 4
.IX Item "-r|--reformat-tmp"
Forces the formatting of the /tmp partition. By default, this step is avoided.
.IP "\fB\-u|\-\-use\-prod\-env\fR" 4
.IX Item "-u|--use-prod-env"
Performs the deployment with the production environment. This method avoid the first reboot on the deployment environment.
.IP "\fB\-F|\-\-fast\-kernel\-reboot\fR" 4
.IX Item "-F|--fast-kernel-reboot"
Uses the optimized method to reboot the nodes after the copy of the environment. Avoid a hard reboot. This option only works with Linux based environments.
.IP "\fB\-s|\-\-script\fR path_to_script" 4
.IX Item "-s|--script path_to_script"
Executes a script at the end of the deployment. Warning, the script must be executable.
.SH "EXAMPLE"
.IX Header "EXAMPLE"
.IP "kadeploy \-e debian4all \-d sda \-p 3 \-m node7 \-u" 4
.IX Item "kadeploy -e debian4all -d sda -p 3 -m node7 -u"
Deploys the debian4all environment on partition /dev/sda3 of node7 and uses the production environment to perform the deployment.
.ie n .IP "kadeploy \-e debian4jul \-l jleduc \-d cciss/c0d0 \-p p2 \-f $OAR_NODEFILE" 4
.el .IP "kadeploy \-e debian4jul \-l jleduc \-d cciss/c0d0 \-p p2 \-f \f(CW$OAR_NODEFILE\fR" 4
.IX Item "kadeploy -e debian4jul -l jleduc -d cciss/c0d0 -p p2 -f $OAR_NODEFILE"
Deploys the debian4jul environment user jleduc on partition /dev/cciss/c0d0p2  of a set of nodes reserved with \s-1OAR\s0 in the deploy queue.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIkaenvironments\fR\|(1), \fIkarecordenv\fR\|(1)
.SH "COPYRIGHTS"
.IX Header "COPYRIGHTS"
This software is licensed under the \s-1GNU\s0 Library General Public License. There is \s-1NO\s0 warranty; not even for \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.
