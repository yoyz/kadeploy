.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.32
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "KARECORDENV 1"
.TH KARECORDENV 1 "2008-02-05" "perl v5.8.8" "Kadeploy commands"
.SH "NAME"
karecordenv \- registers an environment.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBkarecordenv\fR [\fB\-n  | \-\-name\fR registration_name]
    \fB[\-v  | \-\-version\fR version]            # default is 1
    \fB[\-d  | \-\-description\fR description]
    \fB[\-a  | \-\-author\fR author_email]
    \fB[\-fb | \-\-filebase\fR environment_image_path]
    \fB[\-ft | \-\-filesite\fR post\-installation_file_path]
    \fB[\-s  |  \-\-size\fR sizeMo]
    \fB[\-i  |  \-\-initrdpath\fR initrdpath]        # default is none
    \fB[\-k  |  \-\-kernelpath\fR kernel_path]
    \fB[\-p  |  \-\-param\fR kernel_param]
    \fB[\-fd | \-\-fdisktype\fR fdisk_type]         # default is 82
    \fB[\-fs | \-\-filesystem\fR file_system]        # default is ext2
    \fB[\-fe | file_environment\fR file_environment]
.PP
Name, kernel_path, environment_image_path and post\-installation_file_path must be defined.
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
karecordenv registers an environment for the current user in order to be able to use it with the deployment system.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-n|\-\-name\fR registration_name" 4
.IX Item "-n|--name registration_name"
the registration name for the environment
.IP "\fB\-v|\-\-version\fR version" 4
.IX Item "-v|--version version"
the version number of the environment (if needed) ; \fIdefault is 1\fR
.ie n .IP "\fB\-d|\-\-description\fR ""description""" 4
.el .IP "\fB\-d|\-\-description\fR ``description''" 4
.IX Item "-d|--description description"
a brief description of the environment
.IP "\fB\-a|\-\-author\fR author_email" 4
.IX Item "-a|--author author_email"
the author email address
.IP "\fB\-fb|\-\-filebase\fR environment_image_path" 4
.IX Item "-fb|--filebase environment_image_path"
the complete path to the environment image
.IP "\fB\-ft|\-\-filesite\fR post\-installation_file_path" 4
.IX Item "-ft|--filesite post-installation_file_path"
the complete path to the post-installation file
.IP "\fB\-s|\-\-size size\fR (Mo)" 4
.IX Item "-s|--size size (Mo)"
the size of the environment ; in order to perform partition size check before a deployment
.IP "\fB\-i|\-\-initrdpath\fR initrd_path" 4
.IX Item "-i|--initrdpath initrd_path"
the complete initrd path in the environment (including intrd name)
.IP "\fB\-k|\-\-kernelpath\fR kernel_path" 4
.IX Item "-k|--kernelpath kernel_path"
the complete kernel path in the environment (including kernel name). You have to use \*(L"chainload\*(R" keyword, when deploying a \*(L"dd\*(R" image
.IP "\fB\-p|\-\-param\fR kernel_parameters" 4
.IX Item "-p|--param kernel_parameters"
arguments passed to kernel at boot (\fIroot\fR parameter is set automatically), if left empty, default are configured by local administrator
.IP "\fB\-fd|\-\-fdisktype\fR fdisk_type" 4
.IX Item "-fd|--fdisktype fdisk_type"
the fdisk type ; \fIdefault is 82\fR
.IP "\fB\-fs|\-\-filesystem\fR file_system" 4
.IX Item "-fs|--filesystem file_system"
the file system type ; \fIdefault is ext2\fR
.IP "\fB\-fe|\-\-file_environment\fR file_environment" 4
.IX Item "-fe|--file_environment file_environment"
records an environment from file
.SH "EXAMPLE"
.IX Header "EXAMPLE"
.Vb 1
\& karecordenv \-n debian \-v 2 \-d "debian maison" \-a katools@imag.fr \-fb file://home/nis/jleduc/ImagesDistrib/image_Debian_current.tgz \-ft file://home/nis/jleduc/Boulot/postinstall/traitement.tgz \-size 650 \-k /boot/vmlinuz \-i /initrd \-p "console=ttyS0,38400n8 ETH_DRV=tg3" \-fd 83 \-fs ext2
.Ve
.PP
Registers a debian image whose features are explicitly given in parameter
.PP
.Vb 11
\& $cat > /home/deploy/environments/debianMin/image.dsc << EOF
\& name = debianMin
\& description = debian minimal environment
\& author = Julien Leduc
\& filebase = file://home/deploy/environments/debianMin/image.tgz
\& filesite = file://home/deploy/environments/debianMin/postinstall.tgz
\& size = 400
\& initrdpath = /boot/initrd.img\-2.6.8\-1\-686\-smp
\& kernelpath = /boot/vmlinuz\-2.6.8\-1\-686\-smp
\& kernelparam =
\& EOF
.Ve
.PP
.Vb 1
\& $karecordenv \-fe /home/deploy/environments/debianMin/image.dsc
.Ve
.PP
Registers a debianMin environment from a file.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIkaenvironments\fR\|(1)
.SH "COPYRIGHTS"
.IX Header "COPYRIGHTS"
This software is licensed under the \s-1GNU\s0 Library General Public License. There is \s-1NO\s0 warranty; not even for \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.
